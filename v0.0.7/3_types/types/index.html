<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Chapter 3: Theory · A fresh approach to scientific computing</title><meta name="title" content="Chapter 3: Theory · A fresh approach to scientific computing"/><meta property="og:title" content="Chapter 3: Theory · A fresh approach to scientific computing"/><meta property="twitter:title" content="Chapter 3: Theory · A fresh approach to scientific computing"/><meta name="description" content="Documentation for A fresh approach to scientific computing."/><meta property="og:description" content="Documentation for A fresh approach to scientific computing."/><meta property="twitter:description" content="Documentation for A fresh approach to scientific computing."/><meta property="og:url" content="https://formal-methods-mpi.github.io/Workshop.jl/3_types/types/"/><meta property="twitter:url" content="https://formal-methods-mpi.github.io/Workshop.jl/3_types/types/"/><link rel="canonical" href="https://formal-methods-mpi.github.io/Workshop.jl/3_types/types/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="A fresh approach to scientific computing logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="A fresh approach to scientific computing logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">A fresh approach to scientific computing</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../0_preparation/preparation/">Chapter 0: Preparation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Chapter 1: Workflow</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../1_workflow/usage/">Working with Julia in VSCode</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Chapter 2: Syntax</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../2_syntax/foundations/">Chapter 2: Theory</a></li><li><a class="tocitem" href="../../2_syntax/exercise/">Chapter 2: Exercise</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Chapter 3: Types</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Chapter 3: Theory</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Abstract-Types"><span>Abstract Types</span></a></li><li><a class="tocitem" href="#Composite-types"><span>Composite types</span></a></li><li><a class="tocitem" href="#Constructors"><span>Constructors</span></a></li></ul></li><li><a class="tocitem" href="../exercise/">Chapter 3: Exercise</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Chapter 4: Multiple Dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../4_dispatch/dispatch/">Chapter 4: Theory</a></li><li><a class="tocitem" href="../../4_dispatch/exercise/">Chapter 4: Exercise</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Additional Materials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../5_additional/additional-materials/">Additional Materials</a></li><li><a class="tocitem" href="../../5_additional/dual/">Automatic Differentiation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Chapter 3: Types</a></li><li class="is-active"><a href>Chapter 3: Theory</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Chapter 3: Theory</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/formal-methods-mpi/Workshop.jl/blob/main/docs/src/3_types/types.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>In Julia, every variable has a type. We can use the function <code>typeof</code> (just like in R) to tell us the type of a variable. For example:</p><pre><code class="language-julia hljs">a = 1.0
typeof(a)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Float64</code></pre><pre><code class="language-julia hljs">b = &quot;Hello!&quot;
typeof(b)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">String</code></pre><pre><code class="language-julia hljs">c = rand(10)
typeof(c)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Vector{Float64}<span class="sgr90"> (alias for Array{Float64, 1})</span></code></pre><p>We see that, for example, the type of double-precision floating point numers is called <code>Float64</code> in julia.</p><h2 id="Abstract-Types"><a class="docs-heading-anchor" href="#Abstract-Types">Abstract Types</a><a id="Abstract-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Abstract-Types" title="Permalink"></a></h2><p>However, in addition to the types a variable can have, there are so-called &quot;abstract types&quot;. Abstract types &quot;bundle&quot; concrete types together, and form a &quot;type hierarchy&quot;. Let&#39;s have a look:</p><pre><code class="language-julia hljs">typeof(a)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Float64</code></pre><pre><code class="language-julia hljs">supertype(Float64)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AbstractFloat</code></pre><pre><code class="language-julia hljs">subtypes(AbstractFloat)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">4-element Vector{Any}:
 BigFloat
 Float16
 Float32
 Float64</code></pre><p>The function <code>supertype</code> allows us to inspect the next higher abstract type in the type hierarchy. In this case, this type is called <code>AbstractFloat</code>. Calling <code>subtypes</code> on <code>AbstractFloat</code>, we see that <code>Float64</code> is &quot;bundled&quot; together with some other types, for example single precision floating point numbers (<code>Float32</code>). If we would explore this type hierarchy further, we could see something like <a href="https://upload.wikimedia.org/wikipedia/commons/d/d9/Julia-number-type-hierarchy.svg">this</a>.</p><p>In Julia, we can easily define new abstract types:</p><pre><code class="language-julia hljs">abstract type MySpecialNumber &lt;: Number end</code></pre><p>defines a new abstract type <code>MySpecialNumber</code> that is a subtype of <code>Number</code>.</p><h2 id="Composite-types"><a class="docs-heading-anchor" href="#Composite-types">Composite types</a><a id="Composite-types-1"></a><a class="docs-heading-anchor-permalink" href="#Composite-types" title="Permalink"></a></h2><p>The most import kind of type we will encounter during this workshop is called a &quot;composite type&quot;. Composite types are also called &quot;structs&quot; and they allow us to create very useful objects. As an example, suppose we are writing a video game for the well-known Pokemon series. <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup></p><div class="admonition is-compat"><header class="admonition-header">Help, I don&#39;t know what pokemon are?!</header><div class="admonition-body"><p>If you are not familiar with pokemon, don&#39;t worry. Pokemon are animal-like creatures from a video game series that fight against each other - every Pokemon has a certain type (Electric, Flying, Normal), and those types define how they interact. Here are pictures of some Pokemon we are using as examples:</p><ul><li><a href="https://archives.bulbagarden.net/wiki/File:0025Pikachu.png">Pikachu</a></li><li><a href="https://archives.bulbagarden.net/wiki/File:0169Crobat.png">Crobat</a></li><li><a href="https://archives.bulbagarden.net/wiki/File:Spiky-eared_Pichu_DP_1.png">Pichu</a></li></ul><p>That&#39;s all you need to know to complete the exercises.</p></div></div><p>We could define some abstract types</p><pre><code class="language-julia hljs">abstract type Pokemon end
abstract type Normal &lt;: Pokemon end
abstract type Flying &lt;: Pokemon end
abstract type Electric &lt;: Pokemon end</code></pre><p>and then a composite type</p><pre><code class="language-julia hljs">struct Pikachu &lt;: Electric
    nickname
    attack
    defense
    speed
    hp
end</code></pre><p>We now have an abstract type <code>Pokemon</code> with subtypes <code>Normal</code>, <code>Flying</code> and <code>Electric</code>, and a composite type <code>Pikachu</code> which is a subtype of <code>Electric</code>. The composite type <code>Pikachu</code> has the &quot;fields&quot; <code>nickname</code>, <code>attack</code>, <code>defense</code>, <code>speed</code> and <code>hp</code>, where we can store the respective values.</p><p>We are now able to create our very own <code>Pikachu</code> to fight in our team:</p><pre><code class="language-julia hljs">my_pikachu = Pikachu(&quot;Pika&quot;, 135, 80, 110, 132)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu(&quot;Pika&quot;, 135, 80, 110, 132)</code></pre><p>which creates a variable <code>my_pikachu</code> of type <code>Pikachu</code>. Note, that you may or may not see the prefix <code>Main.</code>, this is nothing to worry about and merely an artifact of how this website is generated.</p><p>We can retrieve the values stored in the fields as</p><pre><code class="language-julia hljs">my_pikachu.defense</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">80</code></pre><p>One thing to notice is that types cannot be re-defined in a running julia session. For example, trying to re-define the <code>Pikachu</code> type will result in an error:</p><pre><code class="language-julia hljs">struct Pikachu &lt;: Electric
    nickname
    attack
end</code></pre><pre><code class="nohighlight hljs">ERROR: invalid redefinition of constant Pikachu</code></pre><p>In Julia, once a type is defined, it is locked in place due to the language&#39;s &quot;just-in-time&quot; compilation process. This feature enhances performance during normal use, but it can be a little cumbersome during a workshop where you are programming interactively. For example, you might want to try things out, or you made an error while defining a type. Unfortunately, correcting your error makes it necessary to restart Julia. Luckily, you did learn how to do that at the beginning of the workshop – remember that you can use the VSCode command palette.</p><div class="admonition is-compat"><header class="admonition-header">Exercise</header><div class="admonition-body"><p>Create a new composite type for a pokemon of your choice of type <code>Flying</code>, create an instance of that pokemon, and retrieve it&#39;s nickname.</p></div></div><details>
<summary>show solution</summary>
<br><div class="admonition is-success"><header class="admonition-header">Solution</header><div class="admonition-body"><pre><code class="language-julia hljs">struct Crobat &lt;: Flying
    nickname
    attack
    defense
    speed
    hp
end

my_crobat = Crobat(&quot;Xwing&quot;, 105, 100, 210, 112)
my_crobat.nickname</code></pre></div></div></details><h2 id="Constructors"><a class="docs-heading-anchor" href="#Constructors">Constructors</a><a id="Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Constructors" title="Permalink"></a></h2><p>Let&#39;s talk about how we create new objects. In the example above, we called the type (<code>Pikachu</code>, <code>Crobat</code>) with the values we want to store in the respective fields (<code>Pikachu(&quot;Pika&quot;, 135, 80, 110, 132)</code>) to create a new instance of that pokemon. However, we may like to have more convenience or safety. For this purpose, we have Constructors: functions that create new objects.</p><h3 id="Outer-Constructors"><a class="docs-heading-anchor" href="#Outer-Constructors">Outer Constructors</a><a id="Outer-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Outer-Constructors" title="Permalink"></a></h3><p>Outer constructors are mainly for convenience reasons, and we define them just like functions. For example, we may want to have the option of not giving a new Pokemon a nickname:</p><pre><code class="language-julia hljs">import Random: randstring
Pikachu(attack, defense, speed, hp) = Pikachu(randstring(10), attack, defense, speed, hp)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu</code></pre><p>So if we want to be lazy and not come up with a nickname, we can sample a random one:</p><pre><code class="language-julia hljs">my_lazy_pikachu = Pikachu(132, 34, 23, 343)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu(&quot;lgCCR74tJ9&quot;, 132, 34, 23, 343)</code></pre><h3 id="Inner-Constructors"><a class="docs-heading-anchor" href="#Inner-Constructors">Inner Constructors</a><a id="Inner-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Inner-Constructors" title="Permalink"></a></h3><p>Inner constructors can be used for enforcing that newly created objects obey certain rules. For example, the way we defined our <code>Pikachu</code> type, there was nothing to tell Julia which kind of objects we actually can store in the fields. This allows us to do something like this:</p><pre><code class="language-julia hljs">weird_pikachu = Pikachu(132, 34, 23, -12)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu(&quot;HIbkHg8zk5&quot;, 132, 34, 23, -12)</code></pre><p>Of course, this is not a valid Pokemon, as the maximum health points can&#39;t be negative. To fix this, we use an inner constructor. This is just another function, but defined inside the type definition. Suppose we define another type of Pokemon like this:</p><pre><code class="language-julia hljs">struct Pichu &lt;: Electric
    nickname
    attack
    defense
    speed
    hp
    function Pichu(nickname, attack, defense, speed, hp)
        if (attack &lt; 0) | (defense &lt; 0) | (speed &lt; 0) | (hp &lt; 0)
            error(&quot;Your Pokemon&#39;s stats are outside the valide range&quot;)
        else
            return new(nickname, attack, defense, speed, hp)
        end
    end
end</code></pre><p>So we add a function to the type definition that has the same name as the type. This function checks whether the inputs are valid and throws an error if not. If they are valid, it uses the special <code>new</code> function (which is only available inside type definitions) to create a new (hopefully valid) object.</p><p>Let&#39;s check if it works:</p><pre><code class="language-julia hljs">weird_pichu = Pichu(&quot;Pika_2.0&quot;, 132, 34, 23, -12)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Your Pokemon&#39;s stats are outside the valide range</code></pre><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Inspired by https://gdalle.github.io/JuliaComputationSolutions/hw1a_solutions.html</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../2_syntax/exercise/">« Chapter 2: Exercise</a><a class="docs-footer-nextpage" href="../exercise/">Chapter 3: Exercise »</a><div class="flexbox-break"></div><p class="footer-message">Got a question? Something confuses you? <a href="https://github.com/formal-methods-mpi/Workshop.jl/issues/new">Don&#39;t hesitate to open an issue to ask for help!</a></p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Wednesday 8 November 2023 11:33">Wednesday 8 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
