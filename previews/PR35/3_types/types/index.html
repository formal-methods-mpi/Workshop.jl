<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Theory · A fresh approach to scientific computing</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://formal-methods-mpi.github.io/Workshop.jl/3_types/types/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="A fresh approach to scientific computing logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="A fresh approach to scientific computing logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">A fresh approach to scientific computing</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Chapter 0: Preparation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../0_preparation/introduction/">Introduction</a></li><li><a class="tocitem" href="../../0_preparation/preparation/">Setup</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Chapter 1: Workflow</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../1_workflow/usage/">Working with Julia in VSCode</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Chapter 2: Syntax</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../2_syntax/foundations/">Theory</a></li><li><a class="tocitem" href="../../2_syntax/exercise/">Exercise</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Chapter 3: Types</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Theory</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Abstract-Types"><span>Abstract Types</span></a></li><li><a class="tocitem" href="#Composite-types"><span>Composite types</span></a></li><li><a class="tocitem" href="#Constructors"><span>Constructors</span></a></li></ul></li><li><a class="tocitem" href="../exercise/">Exercise</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Chapter 4: Multiple Dispatch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../4_dispatch/dispatch/">Theory</a></li><li><a class="tocitem" href="../../4_dispatch/exercise/">Exercise</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">Advanced Materials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../5_advanced/intro/">Introduction</a></li><li><a class="tocitem" href="../../5_advanced/dual/">Automatic Differentiation</a></li><li><a class="tocitem" href="../../5_advanced/workflow/">Workflow</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Chapter 3: Types</a></li><li class="is-active"><a href>Theory</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Theory</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/formal-methods-mpi/Workshop.jl/blob/main/docs/src/3_types/types.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>In julia, every variable has a type.  We can use the function <code>typeof</code> (just like in R) to tell us the type of a variable. For example:</p><pre><code class="language-julia hljs">a = 1.0
typeof(a)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Float64</code></pre><pre><code class="language-julia hljs">b = &quot;Hello!&quot;
typeof(b)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">String</code></pre><pre><code class="language-julia hljs">c = rand(10)
typeof(c)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Vector{Float64} (alias for Array{Float64, 1})</code></pre><p>We see that, for example, the type of double-precision floating point numers is called <code>Float64</code> in julia.</p><h2 id="Abstract-Types"><a class="docs-heading-anchor" href="#Abstract-Types">Abstract Types</a><a id="Abstract-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Abstract-Types" title="Permalink"></a></h2><p>However, in addition to the types a variable can have, there are so-called &quot;abstract types&quot;. Abstract types &quot;bundle&quot; concrete types together, and form a &quot;type hierarchy&quot;. Let&#39;s have a look:</p><pre><code class="language-julia hljs">typeof(a)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Float64</code></pre><pre><code class="language-julia hljs">supertype(Float64)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AbstractFloat</code></pre><pre><code class="language-julia hljs">subtypes(AbstractFloat)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">4-element Vector{Any}:
 BigFloat
 Float16
 Float32
 Float64</code></pre><p>The function <code>supertype</code> allows us to inspect the next higher abstract type in the type hierarchy. In this case, this type is called <code>AbstractFloat</code> Caling <code>subtypes</code> on <code>AbstractFloat</code>, we see that <code>Float64</code> is &quot;bundled&quot; together with some other types, for example single precision floating point numbers (<code>Float32</code>). If we would explore this type hierarchy further, we could see something like:</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/d/d9/Julia-number-type-hierarchy.svg" alt="Type hiearchy"/> <em>By Cormullion - Own work, CC BY-SA 4.0, https://commons.wikimedia.org/w/index.php?curid=83858572</em></p><p>In julia, we can easily define new abstract types:</p><pre><code class="language-julia hljs">abstract type MySpecialNumber &lt;: Number end</code></pre><p>defines a new abstract type <code>MySpecialNumber</code> that is a subtype of <code>Number</code>.</p><h2 id="Composite-types"><a class="docs-heading-anchor" href="#Composite-types">Composite types</a><a id="Composite-types-1"></a><a class="docs-heading-anchor-permalink" href="#Composite-types" title="Permalink"></a></h2><p>The most import kind of type we will encounter during this workshop is called a &quot;composite type&quot;. Composite types are also called &quot;structs&quot; and they allow us to create very useful objects.  For example, suppose we are writing a video game for the well-known Pokemon series <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>,  we could define some abstract types</p><pre><code class="language-julia hljs">abstract type Pokemon end
abstract type Normal &lt;: Pokemon end
abstract type Flying &lt;: Pokemon end
abstract type Electric &lt;: Pokemon end</code></pre><p>and then a composite type</p><pre><code class="language-julia hljs">struct Pikachu &lt;: Electric
    nickname
    attack
    defense
    speed
    hp
end</code></pre><p>We now have an abstract type <code>Pokemon</code> with subtypes <code>Normal</code>, <code>Fire</code>, <code>Flying</code> and <code>Electric</code>, and a composite type <code>Pikachu</code> which is a subtype of <code>Electric</code>. The composite type <code>Pikachu</code> has the &quot;fields&quot; <code>nickname</code>, <code>attack</code>, <code>defense</code>, <code>speed</code> and <code>hp</code>, where we can store the respective values.</p><p>We are now able to create our very own <code>Pikachu</code> to fight in our team:</p><pre><code class="language-julia hljs">my_pikachu = Pikachu(&quot;Pika&quot;, 135, 80, 110, 132)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu(&quot;Pika&quot;, 135, 80, 110, 132)</code></pre><p>which creates a variable <code>my_pikachu</code> of type <code>Pikachu</code>.</p><p>We can retrieve the values stored in the fields as</p><pre><code class="language-julia hljs">my_pikachu.defense</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">80</code></pre><div class="admonition is-compat"><header class="admonition-header">Exercise</header><div class="admonition-body"><p>Create a new composite type for a pokemon of your choice of type <code>Flying</code>, create an instance of that pokemon, and retrieve it&#39;s nickname.</p></div></div><details>
<summary>show solution</summary>
<br><div class="admonition is-success"><header class="admonition-header">Solution</header><div class="admonition-body"><pre><code class="language-julia hljs">struct Crobat &lt;: Flying
    nickname
    attack
    defense
    speed
    hp
end

my_crobat = Crobat(&quot;Xwing&quot;, 105, 100, 210, 112)
my_crobat.nickname</code></pre></div></div></details><h2 id="Constructors"><a class="docs-heading-anchor" href="#Constructors">Constructors</a><a id="Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Constructors" title="Permalink"></a></h2><p>Let&#39;s talk about how we create new objects. In the example above, we called the type (<code>Pikachu</code>, <code>Crobat</code>) with the values we want to store in the respective fields (<code>Pikachu(&quot;Pika&quot;, 135, 80, 110, 132)</code>) to create a new instance of that pokemon. However, we may like to have more convenience or safety. For this purpose, we have Constructors: functions that create new objects.</p><h3 id="Outer-Constructors"><a class="docs-heading-anchor" href="#Outer-Constructors">Outer Constructors</a><a id="Outer-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Outer-Constructors" title="Permalink"></a></h3><p>Outer constructors are mainly for conveniece reasons, and we define them just like functions. For example, we may want to have the option of not giving a new Pokemon a nickname:</p><pre><code class="language-julia hljs">import Random: randstring
Pikachu(attack, defense, speed, hp) = Pikachu(randstring(10), attack, defense, speed, hp)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu</code></pre><p>So if I want to be lazy and not come up with a nickname, i just sample a random one:</p><pre><code class="language-julia hljs">my_lazy_pikachu = Pikachu(132, 34, 23, 343)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu(&quot;AnglBkwKNc&quot;, 132, 34, 23, 343)</code></pre><h3 id="Inner-Constructors"><a class="docs-heading-anchor" href="#Inner-Constructors">Inner Constructors</a><a id="Inner-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Inner-Constructors" title="Permalink"></a></h3><p>Inner constructors can be used for enforcing that newly created objects obey certain rules. For example, the way we defined our <code>Pikachu</code> type, there was nothing to tell julia which kind of objects we actually can store in the fields. This allows us to do something like this:</p><pre><code class="language-julia hljs">weird_pikachu = Pikachu(132, 34, 23, -12)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Pikachu(&quot;q6ek1ip2qT&quot;, 132, 34, 23, -12)</code></pre><p>Of course, this is not a valid Pokemon, as the maximum health points can&#39;t be negative. To fix this, we use an inner constructor. This is just another function, but defined inside the type definition. Suppose we define another type of Pokemon like this:</p><pre><code class="language-julia hljs">struct Pichu &lt;: Electric
    nickname
    attack
    defense
    speed
    hp
    function Pichu(nickname, attack, defense, speed, hp)
        if (attack &lt; 0) | (defense &lt; 0) | (speed &lt; 0) | (hp &lt; 0)
            error(&quot;Your Pokemon&#39;s stats are outside the valide range&quot;)
        else
            return new(nickname, attack, defense, speed, hp)
        end
    end
end</code></pre><p>So we add a function to the type definition that has the same name as the type. This function checks whether the inputs are valid and throws an error if not. If they are valid, it uses the special <code>new</code> function (which is only available inside type definitions) to create a new (hopefully valid) object.</p><p>Let&#39;s check if it works:</p><pre><code class="language-julia hljs">weird_pichu = Pichu(&quot;Pika_2.0&quot;, 132, 34, 23, -12)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Your Pokemon&#39;s stats are outside the valide range</code></pre><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Inspired by https://gdalle.github.io/JuliaComputationSolutions/hw1a_solutions.html</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../2_syntax/exercise/">« Exercise</a><a class="docs-footer-nextpage" href="../exercise/">Exercise »</a><div class="flexbox-break"></div><p class="footer-message">Got a question? Something confuses you? <a href="https://github.com/formal-methods-mpi/Workshop.jl/issues/new">Don&#39;t hesitate to open an issue to ask for help!</a></p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 26 April 2023 08:17">Wednesday 26 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
